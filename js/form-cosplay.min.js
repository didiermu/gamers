const valMail=e=>{if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show");else{/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?e.closest(".input").querySelector(".error-input").classList.remove("show"):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="Verifica el formato de email ")}},valText=e=>{e.value=e.value.trim();var o=/^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$/.test(e.value);e.value.length<1?e.closest(".input").querySelector(".error-input").classList.add("show"):(e.closest(".input").querySelector(".error-input").classList.remove("show"),o?e.closest(".input").querySelector(".error-input").classList.remove("show"):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="Solo se permiten letras"))},valNum=e=>{if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show");else if(e.value.length<8)e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="El número debe ser mayor a 8 digitos";else if(e.value.length>12)e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="El número excede los caractéres";else{/^[0-9]+$/.test(e.value)?e.closest(".input").querySelector(".error-input").classList.remove("show"):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="Solo se permiten numeros")}},valTextNum=e=>{const o=["BUEI","BUEX","BUEY","CACA","CACX","CACO","CAGA","CAGX","CAGO","CAKA","CAKX","CAKO","COGE","COGX","COJA","COJE","COJX","COJI","COJO","COJX","CULO","FETO","FETX","GUEY","GUEX","JOTO","JOTX","KACA","KACX","KACO","KACX","KAGA","KAGX","KAGO","KOGE","KOGX","KOJO","KOJX","KAKA","KAKX","KULO","KULX","MAME","MAMX","MAMO","MEAR","MEAX","MEAS","MEON","MEOX","MION","MIOX","MOCO","MOCX","MULA","MULX","PEDA","PEDX","PEDO","PENE","PENX","PUTA","PUTX","PUTO","QULO","QULX","RATA","RATX","RUIN","RUIX","ElverGalarga","ErikaGando","BlancaGandoPatios","AlmaAmado","BlasFemo","CiprianoAncho","TenienteRada","AgapitoSilva","BenitoCarmelo","AsherelCoito","RosaMelano","LarryCapija","UnamaAmadita","KatyDavalosHoyos","Jorge Nitales","AlbertoCarmelasPelotas","PacoJerte","MarcAgada","YosilaVierasLamasMara","JohnnyMeloToca","AlmaMarcelaSilva","AlmaMadero","ElsoBariasBolas","NorbertoTelasmaMaria","TodyTitoMojado","AlbertTelosColgados","CosmeMelosCoccos","SusanaOria","AquilesBaezaParada","ErasmaAmada","AlexCremento","SalvadordeHoyos","ElsaBoresDelano","AgapitoCorto","CarlaParraPenelope","CrispinaZetenPina","EmeterLasCabezas","LaureanoPeludo","AmeliaLamiasRico","OmarAmaAlano","ElbioLadordelosSantos"];if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show");else if(e.value.length<3)e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="No se permiten monosílabos";else{let r=e.value.toUpperCase();console.log(r),o.some(e=>r.includes(e))?(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="No puedes usar estas palabras"):e.closest(".input").querySelector(".error-input").classList.remove("show")}},valFecha=e=>{if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show"),e.classList.add("error");else{e.closest(".input").querySelector(".error-input").classList.remove("show"),e.classList.remove("error"),function(e){var o=new Date,r=new Date(e),t=o.getFullYear()-r.getFullYear(),s=o.getMonth()-r.getMonth();return(s<0||0===s&&o.getDate()<r.getDate())&&t--,t}(e.value)>=18?(e.closest(".input").querySelector(".error-input").classList.remove("show"),e.classList.remove("error")):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.classList.add("error"),e.closest(".input").querySelector(".error-input").innerText="Debes ser mayor de edad"),console.log(e.value)}},valEdad=()=>{new Date;let e=["2005","08","15"].join("-");document.querySelector("#fecha").setAttribute("max",e)};valEdad();const validPatron=()=>{const e=document.querySelector("#user-discord");if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show");else if(e.value.length>21)e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="El usuario es de máximo 16 caractéres";else{/^.*#\d{4}$/.test(e.value)?e.closest(".input").querySelector(".error-input").classList.remove("show"):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="Verifica el formato del usuario ")}},valCombos=e=>{""==e.value&&e.closest(".combo").querySelector(".error-input").classList.add("show"),e.onchange=()=>{""==!e.value&&e.closest(".combo").querySelector(".error-input").classList.remove("show")}},comboConsola=document.querySelector("#combo-consola"),valorId=document.querySelector("#id-consola"),valCheck=e=>{0==e.checked?e.closest(".checkbox").querySelector(".error-input").classList.add("show"):e.closest(".checkbox").querySelector(".error-input").classList.remove("show"),e.onclick=()=>{0==e.checked?e.closest(".checkbox").querySelector(".error-input").classList.add("show"):e.closest(".checkbox").querySelector(".error-input").classList.remove("show")}},validFile=e=>{""==e.value?e.closest(".input").querySelector(".error-input").classList.add("show"):e.closest(".input").querySelector(".error-input").classList.remove("show")},nameFile=e=>{let o=document.querySelector(e);o.onchange=()=>{console.log("name"),o.files[0].size>5e6?(o.closest(".input").querySelector("h5").innerText="El archivo debe ser menor a 5mb",o.value="",console.log(o.value)):(o.closest("div").querySelector("label[for]").innerText=o.value.split("\\").pop(),o.closest(".input").querySelector("h5").innerText="")}};nameFile("#evidenciaId01"),nameFile("#evidenciaIdpersonaje01"),nameFile("#evidenciaIdCosplay");const tooltips=()=>{const e=document.querySelectorAll(".ayuda");for(const o of e)o.addEventListener("click",()=>{o.classList.toggle("active")})};tooltips();const validarForm=()=>{document.querySelector("#form-registro");const e=document.querySelector("#btn-registrar"),o=document.querySelector("#nombre"),r=document.querySelector("#fecha"),t=document.querySelector("#email"),s=document.querySelector("#combo-cd"),a=document.querySelector("#checkConsentimiento"),l=document.querySelector("#checkTYC"),i=document.querySelector("#genero"),c=document.querySelector("#evidenciaId01"),n=document.querySelector("#personaje"),u=document.querySelector("#evidenciaIdpersonaje01"),d=document.querySelector("#evidenciaIdCosplay");e.onclick=()=>{if(valText(o),valFecha(r),valMail(t),valCombos(s),valTextNum(n),valCombos(i),validFile(c),validFile(u),validFile(d),valCheck(a),valCheck(l),0==document.querySelectorAll(".error-input.show").length){var p=new FormData,m=$("#evidenciaId01")[0].files[0],v=$("#evidenciaIdpersonaje01")[0].files[0],y=$("#evidenciaIdCosplay")[0].files[0];return p.append("evidenciaId01",m),p.append("evidenciaIdpersonaje01",v),p.append("evidenciaIdCosplay",y),p.append("nombre",$("#nombre").val()),p.append("fecha",$("#fecha").val()),p.append("email",$("#email").val()),p.append("combo-cd",$("#combo-cd").val()),p.append("personaje",$("#personaje").val()),p.append("genero",$("#genero").val()),p.append("evidenciaIdpersonaje01",$("#evidenciaIdpersonaje01").val()),p.append("evidenciaIdCosplay",$("#evidenciaIdCosplay").val()),$.ajax({url:"/dragon-registro-cosplay-ws/",type:"post",data:p,contentType:!1,processData:!1,success:function(o){if(o>=1){dataLayer.push({event:"dragonsoul-cosplay"}),document.location.href="/dragonsoul-cosplay-thankyou/"}else-1==o?(e.disabled=!1,alert("Ese correo ya está registrado")):-2==o?(e.disabled=!1,alert("Favor de verificar el tamaño de tu archivo")):-3==o?(e.disabled=!1,alert("El horario seleccionado ya no tiene disponibilidad. Elige otro")):(e.disabled=!1,alert("Hubo un error al registrarse."))}}),console.log("si"),!0}return console.log("no"),!1}};validarForm();const elem=document.querySelector('input[name="fecha"]'),datepicker=new Datepicker(elem,{autohide:!0,maxDate:"Ago|15|2005"});
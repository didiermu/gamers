const valRadio=e=>{$("input[name=viajar]:checked").length<1?e.closest(".check-value").querySelector(".error-input").classList.add("show"):e.closest(".check-value").querySelector(".error-input").classList.remove("show"),e.onclick=()=>{$("input[name=viajar]:checked").length<1?e.closest(".check-value").querySelector(".error-input").classList.add("show"):e.closest(".check-value").querySelector(".error-input").classList.remove("show")}},valMail=e=>{if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show");else{/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?e.closest(".input").querySelector(".error-input").classList.remove("show"):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="Verifica el formato de email ")}},valHash=e=>{e.value=e.value.trim();var r=/^[A-Za-z0-9#]+$/.test(e.value);e.value.length<1?e.closest(".input").querySelector(".error-input").classList.add("show"):(e.closest(".input").querySelector(".error-input").classList.remove("show"),r?e.closest(".input").querySelector(".error-input").classList.remove("show"):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="Solo se permiten letras"))},valText=e=>{e.value=e.value.trim();var r=/^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$/.test(e.value);e.value.length<1?e.closest(".input").querySelector(".error-input").classList.add("show"):(e.closest(".input").querySelector(".error-input").classList.remove("show"),r?e.closest(".input").querySelector(".error-input").classList.remove("show"):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="Solo se permiten letras"))},valNum=e=>{if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show");else if(e.value.length<8)e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="El número debe ser mayor a 8 digitos";else if(e.value.length>12)e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="El número excede los caractéres";else{/^[0-9]+$/.test(e.value)?e.closest(".input").querySelector(".error-input").classList.remove("show"):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="Solo se permiten numeros")}},valTextNum=e=>{const r=["BUEI","BUEX","BUEY","CACA","CACX","CACO","CAGA","CAGX","CAGO","CAKA","CAKX","CAKO","COGE","COGX","COJA","COJE","COJX","COJI","COJO","COJX","CULO","FETO","FETX","GUEY","GUEX","JOTO","JOTX","KACA","KACX","KACO","KACX","KAGA","KAGX","KAGO","KOGE","KOGX","KOJO","KOJX","KAKA","KAKX","KULO","KULX","MAME","MAMX","MAMO","MEAR","MEAX","MEAS","MEON","MEOX","MION","MIOX","MOCO","MOCX","MULA","MULX","PEDA","PEDX","PEDO","PENE","PENX","PUTA","PUTX","PUTO","QULO","QULX","RATA","RATX","RUIN","RUIX","ElverGalarga","ErikaGando","BlancaGandoPatios","AlmaAmado","BlasFemo","CiprianoAncho","TenienteRada","AgapitoSilva","BenitoCarmelo","AsherelCoito","RosaMelano","LarryCapija","UnamaAmadita","KatyDavalosHoyos","Jorge Nitales","AlbertoCarmelasPelotas","PacoJerte","MarcAgada","YosilaVierasLamasMara","JohnnyMeloToca","AlmaMarcelaSilva","AlmaMadero","ElsoBariasBolas","NorbertoTelasmaMaria","TodyTitoMojado","AlbertTelosColgados","CosmeMelosCoccos","SusanaOria","AquilesBaezaParada","ErasmaAmada","AlexCremento","SalvadordeHoyos","ElsaBoresDelano","AgapitoCorto","CarlaParraPenelope","CrispinaZetenPina","EmeterLasCabezas","LaureanoPeludo","AmeliaLamiasRico","OmarAmaAlano","ElbioLadordelosSantos"];if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show");else if(e.value.length<3)e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="No se permiten monosílabos";else{let o=e.value.toUpperCase();console.log(o),r.some(e=>o.includes(e))?(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="No puedes usar estas palabras"):e.closest(".input").querySelector(".error-input").classList.remove("show")}},valUrl=e=>{e.value=e.value.trim();var r=/^https:\/\//.test(e.value);e.value.length<1?e.closest(".input").querySelector(".error-input").classList.add("show"):(e.closest(".input").querySelector(".error-input").classList.remove("show"),r?e.closest(".input").querySelector(".error-input").classList.remove("show"):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="La URL no cumple con el formato"))},valFecha=e=>{if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show"),e.classList.add("error");else{e.closest(".input").querySelector(".error-input").classList.remove("show"),e.classList.remove("error"),function(e){var r=new Date,o=new Date(e),t=r.getFullYear()-o.getFullYear(),s=r.getMonth()-o.getMonth();return(s<0||0===s&&r.getDate()<o.getDate())&&t--,t}(e.value)>=18?(e.closest(".input").querySelector(".error-input").classList.remove("show"),e.classList.remove("error")):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.classList.add("error"),e.closest(".input").querySelector(".error-input").innerText="Debes ser mayor de edad"),console.log(e.value)}},valEdad=()=>{new Date;let e=["2005","08","15"].join("-");document.querySelector("#fecha").setAttribute("max",e)};valEdad();const validPatron=e=>{const r=e;if(r.value.length<1)r.closest(".input").querySelector(".error-input").classList.add("show");else if(r.value.length>21)r.closest(".input").querySelector(".error-input").classList.add("show"),r.closest(".input").querySelector(".error-input").innerText="El usuario es de máximo 16 caractéres";else{/^.*#\d{4}$/.test(r.value)?r.closest(".input").querySelector(".error-input").classList.remove("show"):(r.closest(".input").querySelector(".error-input").classList.add("show"),r.closest(".input").querySelector(".error-input").innerText="Verifica el formato del usuario ")}},valLan=()=>{var e=document.querySelector("#riotId");function r(e){var r=e.currentTarget,o=r.getAttribute("data-fixedvalue");0!=r.value.indexOf(o)&&(e.preventDefault(),r.value=o)}e.addEventListener("keyup",r),e.addEventListener("blur",r)},inputField=document.querySelector("#riotId");inputField.addEventListener("blur",(function(){const e=inputField.value;e.endsWith("#LAN")||(inputField.value=e+"#LAN")})),inputField.addEventListener("focus",(function(){inputField.value.endsWith("#LAN")?(console.log("si"),inputField.value=""):console.log("no")}));const valRadios=()=>{const e=document.querySelectorAll(".input-altura[type=radio]"),r=document.querySelectorAll("#registro-paso-dos input:not(.input-altura[type=radio]), #registro-paso-dos select, #registro-paso-dos textarea"),o=Array.from(r);for(var t=0;t<e.length;t++)e[t].addEventListener("change",(function(){"si"==this.value?(document.querySelector("#btn-registrar").removeAttribute("disabled"),o.forEach(e=>{e.closest(".input_group").classList.remove("disabled"),e.removeAttribute("disabled")})):(document.querySelector("#btn-registrar").setAttribute("disabled",!0),o.forEach(e=>{e.closest(".input_group").classList.add("disabled"),e.setAttribute("disabled",!0)}))}))};valRadios();const valCombos=e=>{""==e.value&&e.closest(".combo").querySelector(".error-input").classList.add("show"),e.onchange=()=>{""==!e.value&&e.closest(".combo").querySelector(".error-input").classList.remove("show")}},comboConsola=document.querySelector("#combo-consola"),valorId=document.querySelector("#id-consola"),valCheck=e=>{0==e.checked?e.closest(".checkbox").querySelector(".error-input").classList.add("show"):e.closest(".checkbox").querySelector(".error-input").classList.remove("show"),e.onclick=()=>{0==e.checked?e.closest(".checkbox").querySelector(".error-input").classList.add("show"):e.closest(".checkbox").querySelector(".error-input").classList.remove("show")}},validFile=e=>{""==e.value?e.closest(".input").querySelector(".error-input").classList.add("show"):e.closest(".input").querySelector(".error-input").classList.remove("show")},nameFile=e=>{let r=document.querySelector(e);r.onchange=()=>{console.log("name"),r.files[0].size>5e6?(r.closest(".input").querySelector("h5").innerText="El archivo debe ser menor a 5mb",r.value="",console.log(r.value)):(r.closest("div").querySelector("label[for]").innerText=r.value.split("\\").pop(),r.closest(".input").querySelector("h5").innerText="")}};nameFile("#evidencia");const tooltips=()=>{const e=document.querySelectorAll(".ayuda");for(const r of e)r.addEventListener("click",()=>{r.classList.toggle("active")})};tooltips();const validarForm=()=>{document.querySelector("#form-registro");const e=document.querySelector("#btn-next"),r=document.querySelector("#btn-registrar"),o=document.querySelector("#nombre"),t=document.querySelector("#fecha"),s=document.querySelector("#email"),l=document.querySelector("#celular"),a=document.querySelector("#combo-cd"),c=(document.querySelector("#combo-waves"),document.querySelector("#riotId")),i=document.querySelector("#posicion01"),n=document.querySelector("#rango"),u=document.querySelector("#evidencia"),d=document.querySelector("#check-yes"),p=document.querySelector("#check-no"),v=(document.querySelector("#instagram"),document.querySelector("#tiktok"),document.querySelector("#twitch"),document.querySelector("#discord")),m=(document.querySelector("#campeones"),document.querySelector("#like"),document.querySelector("#checkConsentimiento")),h=document.querySelector("#checkTYC"),y=document.querySelector("#checkAviso"),S=document.querySelector("#checkImagen");e.onclick=()=>{valText(o),valFecha(t),valMail(s),valNum(l),valCombos(a),0==document.querySelectorAll(".error-input.show").length&&(document.querySelector("#registro-paso-uno").classList.add("hide"),document.querySelector("#registro-paso-dos").classList.add("show"),console.log("msjsError"))},r.onclick=()=>{var e;if(valMail(s),valTextNum(c),valCombos(i),valCombos(n),""==(e=u).value?e.closest(".input").querySelector(".error-input").classList.add("show"):e.closest(".input").querySelector(".error-input").classList.remove("show"),valRadio(d),valRadio(p),valHash(v),valCheck(m),valCheck(h),valCheck(y),valCheck(S),0==document.querySelectorAll(".error-input.show").length){var o=new FormData,t=$("#evidencia")[0].files[0];return o.append("evidencia",t),o.append("evidencia2",$("#url").val()),o.append("nombre",$("#nombre").val()),o.append("fecha",$("#fecha").val()),o.append("email",$("#email").val()),o.append("celular",$("#celular").val()),o.append("combo-cd",$("#combo-cd").val()),o.append("riot",$("#riotId").val()),o.append("posicion1",$("#posicion01").val()),o.append("posicion2",$("#posicion02").val()),o.append("rango",$("#rango").val()),o.append("viajar",$("#check-yes").val()),o.append("instagram",$("#instagram").val()),o.append("tiktok",$("#tiktok").val()),o.append("twitch",$("#twitch").val()),o.append("discord",$("#discord").val()),o.append("campeones",$("#campeones").val()),o.append("compartenos",$("#like").val()),$.ajax({url:"/dragon-registro-torneo-ws/",type:"post",data:o,contentType:!1,processData:!1,success:function(e){if(e>=1){dataLayer.push({event:"dragonsoul"}),document.location.href="/dragon-registro-thankyou/"}else-1==e?(r.disabled=!1,alert("Ese correo ya está registrado")):-2==e?(r.disabled=!1,alert("Favor de verificar el tamaño de tu archivo")):-3==e?(r.disabled=!1,alert("El horario seleccionado ya no tiene disponibilidad. Elige otro")):(r.disabled=!1,alert("Hubo un error al registrarse."))}}),console.log("si"),!0}return console.log("no"),!1}};validarForm();const elem=document.querySelector('input[name="fecha"]'),datepicker=new Datepicker(elem,{autohide:!0,maxDate:"Ago|15|2005"});
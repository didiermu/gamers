"use strict";var valMail=function(e){if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show");else{/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)?e.closest(".input").querySelector(".error-input").classList.remove("show"):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="Verifica el formato de email ")}},valText=function(e){e.value=e.value.trim();var o=/^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$/.test(e.value);e.value.length<1?e.closest(".input").querySelector(".error-input").classList.add("show"):(e.closest(".input").querySelector(".error-input").classList.remove("show"),o?e.closest(".input").querySelector(".error-input").classList.remove("show"):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="Solo se permiten letras"))},valNum=function(e){if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show");else if(e.value.length<8)e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="El número debe ser mayor a 8 digitos";else if(e.value.length>12)e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="El número excede los caractéres";else{/^[0-9]+$/.test(e.value)?e.closest(".input").querySelector(".error-input").classList.remove("show"):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="Solo se permiten numeros")}},valTextNum=function(e){if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show");else if(e.value.length<3)e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="No se permiten monosílabos";else{var o=e.value.toUpperCase();console.log(o),["BUEI","BUEX","BUEY","CACA","CACX","CACO","CAGA","CAGX","CAGO","CAKA","CAKX","CAKO","COGE","COGX","COJA","COJE","COJX","COJI","COJO","COJX","CULO","FETO","FETX","GUEY","GUEX","JOTO","JOTX","KACA","KACX","KACO","KACX","KAGA","KAGX","KAGO","KOGE","KOGX","KOJO","KOJX","KAKA","KAKX","KULO","KULX","MAME","MAMX","MAMO","MEAR","MEAX","MEAS","MEON","MEOX","MION","MIOX","MOCO","MOCX","MULA","MULX","PEDA","PEDX","PEDO","PENE","PENX","PUTA","PUTX","PUTO","QULO","QULX","RATA","RATX","RUIN","RUIX","ElverGalarga","ErikaGando","BlancaGandoPatios","AlmaAmado","BlasFemo","CiprianoAncho","TenienteRada","AgapitoSilva","BenitoCarmelo","AsherelCoito","RosaMelano","LarryCapija","UnamaAmadita","KatyDavalosHoyos","Jorge Nitales","AlbertoCarmelasPelotas","PacoJerte","MarcAgada","YosilaVierasLamasMara","JohnnyMeloToca","AlmaMarcelaSilva","AlmaMadero","ElsoBariasBolas","NorbertoTelasmaMaria","TodyTitoMojado","AlbertTelosColgados","CosmeMelosCoccos","SusanaOria","AquilesBaezaParada","ErasmaAmada","AlexCremento","SalvadordeHoyos","ElsaBoresDelano","AgapitoCorto","CarlaParraPenelope","CrispinaZetenPina","EmeterLasCabezas","LaureanoPeludo","AmeliaLamiasRico","OmarAmaAlano","ElbioLadordelosSantos"].some((function(e){return o.includes(e)}))?(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="No puedes usar estas palabras"):e.closest(".input").querySelector(".error-input").classList.remove("show")}},valFecha=function(e){if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show"),e.classList.add("error");else{e.closest(".input").querySelector(".error-input").classList.remove("show"),e.classList.remove("error"),function(e){var o=new Date,r=new Date(e),t=o.getFullYear()-r.getFullYear(),a=o.getMonth()-r.getMonth();return(a<0||0===a&&o.getDate()<r.getDate())&&t--,t}(e.value)>=18?(e.closest(".input").querySelector(".error-input").classList.remove("show"),e.classList.remove("error")):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.classList.add("error"),e.closest(".input").querySelector(".error-input").innerText="Debes ser mayor de edad"),console.log(e.value)}},valEdad=function(){new Date;var e=["2005","08","15"].join("-");document.querySelector("#fecha").setAttribute("max",e)};valEdad();var validPatron=function(){var e=document.querySelector("#user-discord");if(e.value.length<1)e.closest(".input").querySelector(".error-input").classList.add("show");else if(e.value.length>21)e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="El usuario es de máximo 16 caractéres";else{/^.*#\d{4}$/.test(e.value)?e.closest(".input").querySelector(".error-input").classList.remove("show"):(e.closest(".input").querySelector(".error-input").classList.add("show"),e.closest(".input").querySelector(".error-input").innerText="Verifica el formato del usuario ")}},valCombos=function(e){""==e.value&&e.closest(".combo").querySelector(".error-input").classList.add("show"),e.onchange=function(){""==!e.value&&e.closest(".combo").querySelector(".error-input").classList.remove("show")}},comboConsola=document.querySelector("#combo-consola"),valorId=document.querySelector("#id-consola"),valCheck=function(e){0==e.checked?e.closest(".checkbox").querySelector(".error-input").classList.add("show"):e.closest(".checkbox").querySelector(".error-input").classList.remove("show"),e.onclick=function(){0==e.checked?e.closest(".checkbox").querySelector(".error-input").classList.add("show"):e.closest(".checkbox").querySelector(".error-input").classList.remove("show")}},validFile=function(e){""==e.value?e.closest(".input").querySelector(".error-input").classList.add("show"):e.closest(".input").querySelector(".error-input").classList.remove("show")},nameFile=function(e){var o=document.querySelector(e);o.onchange=function(){console.log("name"),o.files[0].size>5e6?(o.closest(".input").querySelector("h5").innerText="El archivo debe ser menor a 5mb",o.value="",console.log(o.value)):(o.closest("div").querySelector("label[for]").innerText=o.value.split("\\").pop(),o.closest(".input").querySelector("h5").innerText="")}};nameFile("#evidenciaId01"),nameFile("#evidenciaIdpersonaje01"),nameFile("#evidenciaIdCosplay");var tooltips=function(){var e=document.querySelectorAll(".ayuda"),o=!0,r=!1,t=void 0;try{for(var a,s=function(){var e=a.value;e.addEventListener("click",(function(){e.classList.toggle("active")}))},l=e[Symbol.iterator]();!(o=(a=l.next()).done);o=!0)s()}catch(e){r=!0,t=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw t}}};tooltips();var validarForm=function(){document.querySelector("#form-registro");var e=document.querySelector("#btn-registrar"),o=document.querySelector("#nombre"),r=document.querySelector("#fecha"),t=document.querySelector("#email"),a=document.querySelector("#combo-cd"),s=document.querySelector("#checkConsentimiento"),l=document.querySelector("#checkTYC"),n=document.querySelector("#genero"),i=document.querySelector("#evidenciaId01"),c=document.querySelector("#personaje"),u=document.querySelector("#evidenciaIdpersonaje01"),d=document.querySelector("#evidenciaIdCosplay");e.onclick=function(){if(valText(o),valFecha(r),valMail(t),valCombos(a),valTextNum(c),valCombos(n),validFile(i),validFile(u),validFile(d),valCheck(s),valCheck(l),0==document.querySelectorAll(".error-input.show").length){var p=new FormData,v=$("#evidenciaId01")[0].files[0],m=$("#evidenciaIdpersonaje01")[0].files[0],y=$("#evidenciaIdCosplay")[0].files[0];return p.append("evidenciaId01",v),p.append("evidenciaIdpersonaje01",m),p.append("evidenciaIdCosplay",y),p.append("nombre",$("#nombre").val()),p.append("fecha",$("#fecha").val()),p.append("email",$("#email").val()),p.append("combo-cd",$("#combo-cd").val()),p.append("personaje",$("#personaje").val()),p.append("genero",$("#genero").val()),p.append("evidenciaIdpersonaje01",$("#evidenciaIdpersonaje01").val()),p.append("evidenciaIdCosplay",$("#evidenciaIdCosplay").val()),$.ajax({url:"/dragon-registro-cosplay-ws/",type:"post",data:p,contentType:!1,processData:!1,success:function(o){if(o>=1){dataLayer.push({event:"dragonsoul-cosplay"}),document.location.href="/dragonsoul-cosplay-thankyou/"}else-1==o?(e.disabled=!1,alert("Ese correo ya está registrado")):-2==o?(e.disabled=!1,alert("Favor de verificar el tamaño de tu archivo")):-3==o?(e.disabled=!1,alert("El horario seleccionado ya no tiene disponibilidad. Elige otro")):(e.disabled=!1,alert("Hubo un error al registrarse."))}}),console.log("si"),!0}return console.log("no"),!1}};validarForm();var elem=document.querySelector('input[name="fecha"]'),datepicker=new Datepicker(elem,{autohide:!0,maxDate:"Ago|15|2005"});